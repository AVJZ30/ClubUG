<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="Calendario de cumpleaÃ±os de la comunidad Club UG - Celebra con nosotros" />
    <title>Nuestra Comunidad - Club UG</title>
    <link rel="icon" href="https://raw.githubusercontent.com/LUISPLUAAAA/index.html/main/favicon-32x32.png" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-1: #020218; 
            --bg-2: #001f3f; 
            --card: rgba(255,255,255,0.03);
            --neon-a: #00e6ff; 
            --neon-b: #0066ff; 
            --accent: #00ffd6; 
            --text: #dff6ff; 
            --muted: #9fcfe8;
            --shadow: 0 18px 60px rgba(0,0,0,0.6); 
            --radius: 14px; 
            --gap: 20px;
            --transition: all 0.3s ease;
        }
        
        * { 
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html, body {
            height: 100%;
            margin: 0;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
            background: linear-gradient(to bottom, #0a1525 0%, #101d35 100%);
            color: var(--text);
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 28px;
            line-height: 1.6;
        }
        
        .container { 
            width: 100%; 
            max-width: 1100px; 
            display: flex; 
            flex-direction: column; 
            gap: 20px; 
        }
        
        .header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            gap: 12px; 
            flex-wrap: wrap;
        }
        
        .brand { 
            display: flex; 
            align-items: center; 
            gap: 12px; 
        }
        
        .logo { 
            width: 56px; 
            height: 56px; 
            border-radius: 12px; 
            background: linear-gradient(135deg, var(--neon-a), var(--neon-b)); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: 800; 
            color: #00121a;
            box-shadow: 0 0 15px rgba(0, 230, 255, 0.5);
        }
        
        .title h1 { 
            font-size: 1.05rem; 
            margin: 0;
        }
        
        .title p { 
            margin: 2px 0 0; 
            color: var(--muted); 
            font-size: 0.86rem;
        }
        
        .today-card { 
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); 
            padding: 18px; 
            border-radius: var(--radius); 
            box-shadow: var(--shadow); 
            border: 1px solid rgba(0,120,255,0.06); 
            display: flex; 
            gap: 18px; 
            align-items: center; 
            justify-content: space-between;
            transition: var(--transition);
        }
        
        .today-card:hover {
            box-shadow: 0 20px 70px rgba(0, 0, 0, 0.7);
        }
        
        .left { 
            min-width: 0; 
            flex: 1;
        }
        
        .label { 
            color: var(--neon-a); 
            font-weight: 700; 
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .main-text { 
            font-size: 1.05rem; 
            font-weight: 700; 
            margin-bottom: 6px; 
            white-space: nowrap; 
            overflow: hidden; 
            text-overflow: ellipsis;
        }
        
        .desc { 
            color: var(--muted);
            font-size: 0.9rem;
        }
        
        .avatar { 
            width: 96px; 
            height: 96px; 
            border-radius: 12px; 
            background: linear-gradient(135deg, var(--neon-a), var(--neon-b)); 
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            color: #00121a; 
            box-shadow: 0 14px 48px rgba(0,64,255,0.08); 
            flex-shrink: 0;
            font-size: 2rem;
            transition: var(--transition);
        }
        
        .avatar:hover {
            transform: scale(1.05);
            box-shadow: 0 18px 60px rgba(0,64,255,0.15);
        }
        
        .btn { 
            border: 0; 
            padding: 10px 14px; 
            border-radius: 10px; 
            cursor: pointer; 
            background: linear-gradient(90deg, var(--neon-a), var(--neon-b)); 
            color: #00121a; 
            font-weight: 700; 
            box-shadow: 0 12px 36px rgba(0,64,255,0.09);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(0,64,255,0.15);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn.ghost { 
            background: transparent; 
            color: var(--muted); 
            border: 1px solid rgba(255,255,255,0.03);
        }
        
        .btn.ghost:hover {
            background: rgba(255,255,255,0.05);
            color: var(--text);
        }
        
        .calendar-wrapper { 
            background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01)); 
            padding: 16px; 
            border-radius: var(--radius); 
            border: 1px solid rgba(255,255,255,0.02); 
            box-shadow: 0 14px 40px rgba(0,0,0,0.6); 
            overflow: hidden;
            transition: var(--transition);
        }
        
        .calendar-wrapper:hover {
            box-shadow: 0 18px 50px rgba(0,0,0,0.7);
        }
        
        .calendar-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 12px; 
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .month-title { 
            font-weight: 800; 
            color: var(--neon-a); 
            font-size: 1.02rem;
            text-transform: capitalize;
        }
        
        .weeknames { 
            display: grid; 
            grid-template-columns: repeat(7,1fr); 
            gap: 8px; 
            color: var(--muted); 
            font-size: 0.78rem; 
            text-align: center; 
            margin-bottom: 10px;
        }
        
        .days { 
            display: grid; 
            grid-template-columns: repeat(7,1fr); 
            gap: 12px; 
            transition: all .28s ease;
        }
        
        .day { 
            min-height: 92px; 
            border-radius: 12px; 
            padding: 10px; 
            background: rgba(255,255,255,0.012); 
            color: var(--text); 
            position: relative; 
            font-size: 0.92rem; 
            display: flex; 
            flex-direction: column; 
            gap: 8px; 
            transition: transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s, background .18s; 
            cursor: pointer;
            overflow: hidden;
        }
        
        .day:hover { 
            transform: translateY(-6px); 
            box-shadow: 0 18px 40px rgba(0,0,0,0.6);
            background: rgba(255,255,255,0.03);
        }
        
        .day.has-birthday {
            border: 1px solid rgba(0,230,255,0.1);
        }
        
        .num { 
            font-weight: 800; 
            color: #eafcff; 
            font-size: 0.95rem;
        }
        
        .names { 
            font-size: 0.78rem; 
            color: var(--muted); 
            line-height: 1.05; 
            max-height: 3.6em; 
            overflow: hidden; 
            white-space: normal;
        }
        
        .dot { 
            position: absolute; 
            left: 10px; 
            bottom: 10px; 
            width: 12px;
            height: 12px;
            border-radius: 50%; 
            background: linear-gradient(90deg, var(--neon-a), var(--neon-b)); 
            box-shadow: 0 12px 30px rgba(0,120,255,0.12);
        }
        
        .glow-highlight { 
            animation: highlightIn .9s cubic-bezier(.2,.9,.2,1) both; 
        }
        
        @keyframes highlightIn { 
            0% { 
                box-shadow: 0 0 0 rgba(0,0,0,0); 
                border-color: rgba(0,230,255,0); 
            } 
            100% { 
                box-shadow: 0 18px 60px rgba(0,110,255,0.06); 
                border-color: rgba(0,230,255,0.08); 
            } 
        }
        
        .birthday-popup { 
            position: fixed; 
            left: 50%; 
            top: 14%; 
            transform: translateX(-50%); 
            z-index: 1001; 
            background: linear-gradient(180deg, rgba(0,18,40,0.98), rgba(0,0,0,0.92)); 
            border-radius: 12px; 
            padding: 16px 20px; 
            border: 1px solid rgba(0,230,255,0.08); 
            box-shadow: 0 30px 100px rgba(0,0,0,0.75); 
            width: fit-content; 
            max-width: 92%; 
            text-align: center; 
            color: var(--text); 
            animation: popupIn .7s cubic-bezier(.2,.9,.2,1) both;
            backdrop-filter: blur(10px);
        }
        
        .popup-h1 { 
            font-weight: 900; 
            color: var(--neon-a); 
            margin-bottom: 6px; 
            font-size: 1.15rem;
        }
        
        .popup-sub { 
            color: var(--muted); 
            font-size: 0.95rem;
        }
        
        .confetti { 
            position: fixed; 
            pointer-events: none; 
            z-index: 1000; 
            border-radius: 3px; 
            opacity: 0.95;
        }
        
        .today-highlight {
            background: rgba(0, 230, 255, 0.05);
            border: 1px solid rgba(0, 230, 255, 0.2);
        }
        
        .empty-day {
            background: transparent;
            cursor: default;
        }
        
        .empty-day:hover {
            transform: none;
            box-shadow: none;
            background: transparent;
        }
        
        .search-container {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 12px 16px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.1);
            background: rgba(255,255,255,0.05);
            color: var(--text);
            font-family: 'Poppins', sans-serif;
            transition: var(--transition);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--neon-a);
            box-shadow: 0 0 0 2px rgba(0, 230, 255, 0.2);
        }
        
        .filter-select {
            padding: 12px 16px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.1);
            background: rgba(255,255,255,0.05);
            color: var(--text);
            font-family: 'Poppins', sans-serif;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .filter-select:focus {
            outline: none;
            border-color: var(--neon-a);
            box-shadow: 0 0 0 2px rgba(0, 230, 255, 0.2);
        }
        
        .stats-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            padding: 15px;
            border-radius: var(--radius);
            border: 1px solid rgba(0,120,255,0.06);
            flex: 1;
            min-width: 150px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--neon-a);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: var(--muted);
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255,255,255,0.1);
            border-left: 4px solid var(--neon-a);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes popupIn {
            0% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            100% { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(90deg, var(--neon-a), var(--neon-b));
            color: #00121a;
            padding: 12px 20px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1002;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .close-notification {
            background: none;
            border: none;
            color: #00121a;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            .today-card {
                flex-direction: column;
                text-align: center;
            }
            
            .avatar {
                width: 80px;
                height: 80px;
                font-size: 1.5rem;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .header > div:last-child {
                align-self: stretch;
            }
            
            .btn {
                flex: 1;
                justify-content: center;
            }
            
            .days {
                gap: 8px;
            }
            
            .day {
                min-height: 70px;
                padding: 8px;
            }
            
            .search-container {
                flex-direction: column;
            }
            
            .search-input, .filter-select {
                min-width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .day {
                min-height: 60px;
                font-size: 0.8rem;
            }
            
            .num {
                font-size: 0.85rem;
            }
            
            .names {
                font-size: 0.7rem;
            }
            
            .dot {
                width: 8px;
                height: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="brand">
                <div class="logo">UG</div>
                <div class="title">
                    <h1>Nuestra Comunidad</h1>
                    <p>Club UG â€” Celebramos a nuestra gente</p>
                </div>
            </div>
            <div style="display:flex;gap:8px;align-items:center;width:100%;justify-content:flex-end;">
                <button class="btn" id="goToTodayTop" aria-label="Ir a la fecha de hoy">
                    <i class="fas fa-calendar-day"></i>
                    <span>Hoy</span>
                </button>
                <button class="btn ghost" id="openCalendarTop" aria-label="Abrir calendario">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Ver calendario</span>
                </button>
            </div>
        </div>

        <div class="today-card" role="region" aria-label="InformaciÃ³n de hoy">
            <div class="left">
                <div class="label">
                    <i class="fas fa-birthday-cake"></i>
                    <span>Hoy</span>
                </div>
                <div id="contentBox">
                    <div class="main-text" style="color:var(--muted)">Esperando los prÃ³ximos cumpleaÃ±os...</div>
                </div>
                <div class="desc" id="subBox">Explora el calendario para ver quiÃ©n cumple</div>
            </div>
            <div style="display:flex;flex-direction:column;gap:12px;align-items:flex-end">
                <div class="avatar" id="todayAvatar" aria-label="Avatar de cumpleaÃ±os">ðŸŽˆ</div>
                <div style="display:flex;gap:8px;width:100%;justify-content:flex-end;">
                    <button class="btn" id="openCalendar" aria-label="Abrir calendario">
                        <i class="fas fa-calendar"></i>
                        <span>Ver calendario</span>
                    </button>
                    <button class="btn ghost" id="backPrincipal" onclick="location.href='index.html'" aria-label="Volver a la pÃ¡gina principal">
                        <i class="fas fa-home"></i>
                        <span>Principal</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-value" id="totalMembers">0</div>
                <div class="stat-label">Miembros totales</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="birthdaysThisMonth">0</div>
                <div class="stat-label">CumpleaÃ±os este mes</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="birthdaysToday">0</div>
                <div class="stat-label">CumpleaÃ±os hoy</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="nextBirthday">-</div>
                <div class="stat-label">PrÃ³ximo cumpleaÃ±os</div>
            </div>
        </div>

        <div class="search-container">
            <input type="text" class="search-input" id="searchInput" placeholder="Buscar por nombre o carrera..." aria-label="Buscar miembros">
            <select class="filter-select" id="monthFilter" aria-label="Filtrar por mes">
                <option value="all">Todos los meses</option>
                <option value="0">Enero</option>
                <option value="1">Febrero</option>
                <option value="2">Marzo</option>
                <option value="3">Abril</option>
                <option value="4">Mayo</option>
                <option value="5">Junio</option>
                <option value="6">Julio</option>
                <option value="7">Agosto</option>
                <option value="8">Septiembre</option>
                <option value="9">Octubre</option>
                <option value="10">Noviembre</option>
                <option value="11">Diciembre</option>
            </select>
            <button class="btn ghost" id="clearFilters" aria-label="Limpiar filtros">
                <i class="fas fa-times"></i>
                <span>Limpiar</span>
            </button>
        </div>

        <div id="calendarArea" class="calendar-wrapper" aria-live="polite">
            <div class="calendar-header">
                <div>
                    <div style="font-size:.85rem;color:var(--muted)">Calendario</div>
                    <div class="month-title" id="miniMonth"></div>
                </div>
                <div class="navs" style="display:flex;gap:8px;">
                    <button class="btn ghost" id="prevMonth" aria-label="Mes anterior">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="btn" id="goToToday" aria-label="Ir a hoy">
                        <i class="fas fa-calendar-day"></i>
                    </button>
                    <button class="btn ghost" id="nextMonth" aria-label="Mes siguiente">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            <div class="weeknames">
                <div>Lun</div><div>Mar</div><div>MiÃ©</div><div>Jue</div><div>Vie</div><div>SÃ¡b</div><div>Dom</div>
            </div>
            <div class="days" id="daysGrid"></div>
        </div>
    </div>

    <audio id="applause" src="https://www.soundjay.com/human/sounds/applause-8.mp3" preload="auto"></audio>
    <audio id="notificationSound" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" preload="auto"></audio>
    <div id="modalRoot" style="display:none"></div>

    <script>
        // ===== Datos de usuarios =====
        const usuarios = [
               { nombre: "Kavier", carrera: "Ingnieria aeroespacial", fecha: "12/10/2004" },
            { nombre: "Leython Arana Jeremy Josue", carrera: "TecnologÃ­a de la InformaciÃ³n", fecha: "19/10/2004" },
            { nombre: "Miranda Danna", carrera: "Contabilidad y auditorÃ­a", fecha: "29/08/2005" },
            { nombre: "Campuzano Benavides Amelia Elizabeth", carrera: "IngenierÃ­a civil", fecha: "25/08/1996" },
            { nombre: "BajaÃ±a Aviles Deivid Alexander", carrera: "Comercio exterior", fecha: "29/07/2007" },
            { nombre: "Mendoza Zambrano Thaylor Enrique", carrera: "SociologÃ­a", fecha: "30/10/2001" },
            { nombre: "Luis Antonio Mite Contreras", carrera: "Derecho", fecha: "10/04/2006" },
            { nombre: "AMAT BRIONES MAYKELL GONZALO", carrera: "Sistemas de InformaciÃ³n", fecha: "10/06/2006" },
            { nombre: "Raquel Macias", carrera: "Medicina", fecha: "04/04/2007" },
            { nombre: "Yanez Orellana Silvia Narcisa", carrera: "Terapia Ocupacional", fecha: "13/07/2007" },
            { nombre: "Bravo Calvas Rober Gabriel", carrera: "AgronomÃ­a", fecha: "19/08/2004" },
            { nombre: "RAMIREZ PUCHAICELA JEREMY GABRIEL", carrera: "PedagogÃ­a de la actividad fÃ­sica y deporte", fecha: "12/01/2007" },
            { nombre: "Ortega Vera Alexander Israel", carrera: "ComunicaciÃ³n", fecha: "04/07/2006" },
            { nombre: "QUIJIJE ZAMBRANO ASHLEY PAULETTE", carrera: "EconomÃ­a", fecha: "21/09/2007" },
            { nombre: "Coronado ChÃ³ez Kenya Sabrina", carrera: "PedagogÃ­a de las ciencias experimentales", fecha: "10/02/2006" },
            { nombre: "Molina Camba Dallyana Victoria", carrera: "IngenierÃ­a quÃ­mica", fecha: "10/09/2007" },
            { nombre: "Zharick HernÃ¡ndez", carrera: "Negocios Internacionales", fecha: "11/09/2005" },
            { nombre: "Romero Pacheco Carlos Jeampierre", carrera: "IngenierÃ­a en Ciencias de Datos e Inteligencia Artificial", fecha: "05/05/2007" },
            { nombre: "Danny TomalÃ¡", carrera: "IngenierÃ­a quÃ­mica", fecha: "02/10/2002" },
            { nombre: "Franco NuÃ±ez Alinson Dominic", carrera: "Terapia respiratoria", fecha: "21/06/2007" },
            { nombre: "LEÃ“N ORDÃ“Ã‘EZ SAMANTHA ISABELA", carrera: "PedagogÃ­a de la lengua y literatura", fecha: "05/11/2006" },
            { nombre: "Luisa Chacha Melanny Akanne", carrera: "ComunicaciÃ³n", fecha: "20/02/2005" },
            { nombre: "Plaza Matute Amelia Alejandra", carrera: "EducaciÃ³n bÃ¡sica", fecha: "02/09/2004" },
            { nombre: "Medina Cordova Karla Amelia", carrera: "Derecho", fecha: "11/11/2007" },
            { nombre: "Beatriz Vanessa Quiroga VÃ¡squez", carrera: "PedagogÃ­a de Historia y Ciencias Sociales", fecha: "29/08/1996" },
            { nombre: "Oliveyra VÃ¡squez Angel Gabriel", carrera: "ComunicaciÃ³n Social", fecha: "04/03/2005" },
            { nombre: "Heydi barrera", carrera: "ComunicaciÃ³n", fecha: "30/07/2002" },
            { nombre: "Pilalo Villarroel Joseline Isabel", carrera: "EnfermerÃ­a", fecha: "30/05/2007" },
            { nombre: "LeÃ³n Freire Crista Sharik", carrera: "Derecho", fecha: "04/12/2005" },
            { nombre: "Palma Martinez Tylor Alberto", carrera: "IngenierÃ­a quÃ­mica", fecha: "29/07/2006" },
            { nombre: "Carvajal Acosta Ariel Alejandro", carrera: "ComunicaciÃ³n social", fecha: "13/02/2004" },
            { nombre: "Lilibeth GuzmÃ¡n", carrera: "IngenierÃ­a en Sistemas", fecha: "19/10/2007" },
            { nombre: "Barzola Torres Ingrid Del RocÃ­o", carrera: "IngenierÃ­a QuÃ­mica", fecha: "28/02/2007" },
            { nombre: "Santos Mora Adriana Georgette", carrera: "PsicologÃ­a", fecha: "13/11/2005" },
            { nombre: "Guevara Villamar Milena Tahis", carrera: "ComunicaciÃ³n social", fecha: "13/06/2001" },
            { nombre: "Mayra Navarro", carrera: "GastronomÃ­a", fecha: "07/02/2007" },
            { nombre: "Rodriguez Ayovi Arlette Naomi", carrera: "Mercadotecnia", fecha: "06/05/2007" },
            { nombre: "Taday Medina MarÃ­a Fernanda", carrera: "Medicina", fecha: "14/05/2007" },
            { nombre: "VÃ©lez Zambrano MarÃ­a JosÃ©", carrera: "EconomÃ­a", fecha: "11/01/2007" },
            { nombre: "Vargas Mesias Narcisa Paulina", carrera: "Medicina veterinaria y zootecnia", fecha: "30/05/2007" },
            { nombre: "Moreno BeltrÃ¡n Christian Sleyner", carrera: "AgronomÃ­a", fecha: "08/10/2007" },
            { nombre: "LeÃ³n Alvarado Juliana Scarlett", carrera: "EducaciÃ³n BÃ¡sica", fecha: "31/05/2007" },
            { nombre: "AYORA ZAMBRANO FABIAN ALEJANDRO", carrera: "PedagogÃ­a de las ciencias experimentales-Informatica", fecha: "14/08/2007" },
            { nombre: "Yance Henrry AdriÃ¡n", carrera: "Derecho", fecha: "27/02/2007" },
            { nombre: "Palma Cornejo Elena Alejandra", carrera: "ComunicaciÃ³n social", fecha: "01/06/2005" },
            { nombre: "Moreira vone Aaron Abraham", carrera: "PedagogÃ­a de QuÃ­mica y BiologÃ­a", fecha: "13/08/2004" },
            { nombre: "Alonso RodrÃ­guez MarÃ­a Alejandra", carrera: "PedagogÃ­a de historia", fecha: "02/03/2002" },
            { nombre: "Tixe Castro Brithany Gabriela", carrera: "EducaciÃ³n BÃ¡sica", fecha: "13/01/2007" },
            { nombre: "MuÃ±oz Arana Anneliz Esther", carrera: "Terapia Ocupacional", fecha: "28/09/2005" },
            { nombre: "Arias Anzoategui Keissy", carrera: "PedagogÃ­a en la Lengua y Literatura", fecha: "08/05/2002" },
            { nombre: "Drake Hunter Zolomon Addams", carrera: "Sistemas de formaciÃ³n", fecha: "15/01/1993" },
            { nombre: "Troya RodrÃ­guez Valeria Paulette", carrera: "OdontologÃ­a", fecha: "17/09/2005" },
            { nombre: "Medranda MerchÃ¡n Wilmer Adalberto", carrera: "EducaciÃ³n bÃ¡sica", fecha: "03/08/2003" },
            { nombre: "Triana Gamarra Rosmery Alejandra", carrera: "IngenierÃ­a QuÃ­mica", fecha: "06/04/2008" },
            { nombre: "Sasha Vinasco", carrera: "PedagogÃ­a en las ciencias experimentales de la quÃ­mica y BiologÃ­a", fecha: "04/02/2006" },
            { nombre: "Cevallos Kayla", carrera: "PedagogÃ­a en artes y humanidades", fecha: "08/11/2001" },
            { nombre: "IsaÃ­as David Vitores", carrera: "Sistemas de InformaciÃ³n", fecha: "12/08/2001" },
            { nombre: "Melany Gutierrez Cajape", carrera: "Medicina Veterinaria y Zootecnia", fecha: "23/10/2006" },
            { nombre: "CHIRIGUAYO GarcÃ­a Bryan Alexander", carrera: "PsicolÃ³gica", fecha: "25/09/2003" },
            { nombre: "MALO SANTILLÃN LIZ ESTHELA", carrera: "ComunicaciÃ³n Social", fecha: "14/10/2005" },
            { nombre: "VILLAMAR ROSALES BRYAN SAMIR", carrera: "Negocios internacionales", fecha: "05/12/2006" },
            { nombre: "Frank Jahir Posligua Manrique", carrera: "GastronomÃ­a", fecha: "07/07/2006" },
            { nombre: "Carriel Lorenti Bryan Xavier", carrera: "PedagogÃ­a de la Lengua y Literatura", fecha: "08/11/2006" },
            { nombre: "DÃ©bora Guaigua", carrera: "PedagogÃ­a en idiomas", fecha: "16/09/2005" },
            { nombre: "Lamota Soriano Giuliana Scarlett", carrera: "EducaciÃ³n inicial", fecha: "13/02/2007" },
            { nombre: "Crespo Chiquito Domenica Ayleen", carrera: "TelemÃ¡tica", fecha: "02/10/2005" },
            { nombre: "Moncada Espinoza Adolfo Jefferson", carrera: "EducaciÃ³n bÃ¡sica", fecha: "30/09/1992" },
            { nombre: "Romero Barahona LÃ­a Dayana", carrera: "PedagogÃ­a de matemÃ¡ticas y fÃ­sica", fecha: "20/10/2007" },
            { nombre: "Suplewiche CedeÃ±o Noelia Dayana", carrera: "Contabilidad y auditorÃ­a", fecha: "28/10/2007" },
            { nombre: "Lucin Alava JuliÃ¡n Isaac", carrera: "TelemÃ¡tica", fecha: "13/03/2007" },
            { nombre: "Tenesaca Cepeda Nahin Isaias", carrera: "ComunicaciÃ³n Social", fecha: "02/04/2004" },
            { nombre: "Barcos Tumbaco AarÃ³n Alexander", carrera: "Sistemas de la InformaciÃ³n", fecha: "20/03/2005" },
            { nombre: "Jimenez Sanchez brithany Anailen", carrera: "Finanzas", fecha: "07/12/2006" },
            { nombre: "Mindiolaza Canto Cristopher Stalin", carrera: "EducaciÃ³n BÃ¡sica", fecha: "27/11/2001" },
            { nombre: "PILAMUNGA FLORES DOMENICA MABEL", carrera: "BIOQUÃMICA Y FARMACIA", fecha: "02/04/2007" },
            { nombre: "MEJÃA MORA JOSELYN JAMILETH", carrera: "PedagogÃ­a de matemÃ¡ticas y fÃ­sica", fecha: "09/10/2005" },
            { nombre: "Castro Carla", carrera: "GestiÃ³n de la InformaciÃ³n Gerencial", fecha: "07/12/2002" },
            { nombre: "Navarrete Avelino Jose Luis", carrera: "Finanzas", fecha: "07/09/2005" },
            { nombre: "RuÃ­z MuÃ±oz Bianca Nayeli", carrera: "IngenierÃ­a en alimentos", fecha: "24/10/2005" },
            { nombre: "Salinas GuamÃ¡n Francheska Marisol", carrera: "EducaciÃ³n BÃ¡sica", fecha: "11/10/2007" },
            { nombre: "Yerexi Ginneth Matia Ayovi", carrera: "PedagogÃ­a idiomas extranjeros y nacionales", fecha: "26/06/2007" },
            { nombre: "Silva Castro Rosa Nathalia", carrera: "Software", fecha: "07/03/2007" }
        ];

        // ===== Variables globales =====
        const hoy = new Date();
        const todayDay = hoy.getDate();
        const todayMonth = hoy.getMonth() + 1;
        const todayYear = hoy.getFullYear();
        let curDate = new Date(hoy.getFullYear(), hoy.getMonth(), 1);
        let filteredUsers = [...usuarios];
        
        // ===== Referencias DOM =====
        const contentBox = document.getElementById('contentBox');
        const subBox = document.getElementById('subBox');
        const todayAvatar = document.getElementById('todayAvatar');
        const daysGrid = document.getElementById('daysGrid');
        const miniMonth = document.getElementById('miniMonth');
        const searchInput = document.getElementById('searchInput');
        const monthFilter = document.getElementById('monthFilter');
        const clearFilters = document.getElementById('clearFilters');
        const totalMembers = document.getElementById('totalMembers');
        const birthdaysThisMonth = document.getElementById('birthdaysThisMonth');
        const birthdaysToday = document.getElementById('birthdaysToday');
        const nextBirthday = document.getElementById('nextBirthday');

        // ===== Funciones =====
        function parseDate(s) { 
            let dmY = s.split(/[\/\-]/); 
            return new Date(+dmY[2], +dmY[1]-1, +dmY[0]); 
        }
        
        // Procesar fechas de usuarios
        usuarios.forEach(u => { 
            const d = parseDate(u.fecha); 
            u._day = d.getDate(); 
            u._month = d.getMonth() + 1; 
            u._year = d.getFullYear();
            u._parsedDate = d;
        });

        // Encontrar cumpleaÃ±os de hoy
        const cumpleHoy = usuarios.filter(u => u._day === todayDay && u._month === todayMonth);

        // Mostrar estadÃ­sticas
        function updateStats() {
            totalMembers.textContent = usuarios.length;
            birthdaysToday.textContent = cumpleHoy.length;
            
            // CumpleaÃ±os este mes
            const currentMonthBirthdays = usuarios.filter(u => u._month === curDate.getMonth() + 1);
            birthdaysThisMonth.textContent = currentMonthBirthdays.length;
            
            // PrÃ³ximo cumpleaÃ±os
            const nextBday = findNextBirthday();
            nextBirthday.textContent = nextBday ? `${nextBday.nombre.split(' ')[0]}` : '-';
        }

        // Encontrar prÃ³ximo cumpleaÃ±os
        function findNextBirthday() {
            const today = new Date();
            const currentMonth = today.getMonth() + 1;
            const currentDay = today.getDate();
            
            // Ordenar usuarios por fecha de cumpleaÃ±os
            const sortedUsers = [...usuarios].sort((a, b) => {
                // Comparar mes y dÃ­a
                if (a._month !== b._month) return a._month - b._month;
                return a._day - b._day;
            });
            
            // Encontrar el prÃ³ximo cumpleaÃ±os
            for (let user of sortedUsers) {
                if (user._month > currentMonth || (user._month === currentMonth && user._day >= currentDay)) {
                    return user;
                }
            }
            
            // Si no hay mÃ¡s cumpleaÃ±os este aÃ±o, tomar el primero del prÃ³ximo aÃ±o
            return sortedUsers[0];
        }

        // Mostrar cumpleaÃ±os del dÃ­a
        function showMainBirthday(list) {
            if (!list.length) { 
                contentBox.innerHTML = '<div style="color:var(--muted)">Esperando los prÃ³ximos cumpleaÃ±os...</div>'; 
                todayAvatar.textContent = 'ðŸŽˆ'; 
                subBox.textContent = 'Explora el calendario para ver quiÃ©n cumple'; 
                return; 
            }
            
            const u = list[0];
            contentBox.innerHTML = `
                <div style="font-weight:800">${u.nombre}</div>
                <div style="color:var(--muted);margin-top:6px">${u.carrera}</div>
                <div style="margin-top:10px;color:var(--text)">
                    <strong>Â¡Feliz cumpleaÃ±os!</strong> ðŸŽ‰ Club UG te manda un abrazo
                </div>
            `;
            todayAvatar.textContent = 'ðŸŽ‚';
            
            // Solo reproducir audio y mostrar popup si es el dÃ­a actual
            if (u._day === todayDay && u._month === todayMonth) {
                speak(`Â¡Feliz cumpleaÃ±os ${u.nombre}! ${u.carrera}. Club UG te felicita`);
                showBirthdayPopup(u);
            }
        }

        // Mostrar popup de cumpleaÃ±os
        function showBirthdayPopup(u) {
            const popup = document.createElement('div'); 
            popup.className = 'birthday-popup';
            popup.innerHTML = `
                <div class="popup-h1">ðŸŽ‰ Â¡Feliz CumpleaÃ±os ${u.nombre}! ðŸŽ‰</div>
                <div class="popup-sub">${u.carrera}<br>Club UG te manda un abrazo ðŸ¤—</div>
            `;
            document.body.appendChild(popup);
            
            // Reproducir sonido
            document.getElementById('applause').play().catch(() => {});
            createConfettiBurst();
            
            setTimeout(() => popup.remove(), 7200);
        }

        // Crear efecto de confeti
        function createConfettiBurst() { 
            const colors = ['#00e6ff', '#0066ff', '#ffffff', '#00ffd6', '#ffea66']; 
            for (let i = 0; i < 50; i++) { 
                const el = document.createElement('div'); 
                el.className = 'confetti'; 
                const w = Math.random() * 10 + 6; 
                el.style.width = w + 'px'; 
                el.style.height = (w * 0.55) + 'px'; 
                el.style.left = Math.random() * 100 + 'vw'; 
                el.style.top = (-Math.random() * 18) + 'vh'; 
                el.style.background = colors[Math.floor(Math.random() * colors.length)]; 
                document.body.appendChild(el); 
                const t = 1500 + Math.random() * 2000; 
                el.animate([
                    { opacity: 1 }, 
                    { transform: `translateY(${80 + Math.random() * 60}vh)`, opacity: 0.1 }
                ], { duration: t, easing: 'cubic-bezier(.2,.7,.2,1)' }); 
                setTimeout(() => el.remove(), t + 60); 
            } 
        }

        // Sintetizador de voz
        function speak(text) { 
            if ('speechSynthesis' in window) { 
                const msg = new SpeechSynthesisUtterance(text);
                msg.lang = 'es-ES';
                msg.rate = 1.0;
                msg.pitch = 1.0;
                window.speechSynthesis.speak(msg); 
            } 
        }

        // Mostrar notificaciÃ³n
        function showNotification(message, duration = 3000) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <span>${message}</span>
                <button class="close-notification" aria-label="Cerrar notificaciÃ³n">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            document.body.appendChild(notification);
            
            // Reproducir sonido de notificaciÃ³n
            document.getElementById('notificationSound').play().catch(() => {});
            
            // Cerrar notificaciÃ³n al hacer clic en el botÃ³n
            notification.querySelector('.close-notification').addEventListener('click', () => {
                notification.remove();
            });
            
            // Cerrar automÃ¡ticamente despuÃ©s del tiempo especificado
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, duration);
        }

        // Renderizar calendario
        function renderCalendar(date) {
            daysGrid.innerHTML = '';
            const month = date.getMonth();
            const year = date.getFullYear();
            
            // Actualizar tÃ­tulo del mes
            miniMonth.textContent = date.toLocaleString('es-ES', { month: 'long', year: 'numeric' });
            
            // Obtener primer dÃ­a del mes y Ãºltimo dÃ­a
            const firstWeekDay = (new Date(year, month, 1).getDay() + 6) % 7;
            const lastDate = new Date(year, month + 1, 0).getDate();
            
            // DÃ­as vacÃ­os al inicio
            for (let i = 0; i < firstWeekDay; i++) { 
                const div = document.createElement('div'); 
                div.className = 'day empty-day';
                daysGrid.appendChild(div);
            }
            
            // DÃ­as del mes
            for (let d = 1; d <= lastDate; d++) {
                const div = document.createElement('div'); 
                div.className = 'day';
                
                // Resaltar dÃ­a actual
                if (d === todayDay && month === hoy.getMonth() && year === hoy.getFullYear()) {
                    div.classList.add('today-highlight');
                }
                
                // Encontrar cumpleaÃ±os para este dÃ­a
                const namesToday = filteredUsers.filter(u => u._day === d && u._month === month + 1).map(u => u.nombre);
                
                div.innerHTML = `
                    <div class="num">${d}</div>
                    <div class="names">${namesToday.join('<br>')}</div>
                `;
                
                // AÃ±adir punto indicador si hay cumpleaÃ±os
                if (namesToday.length > 0) { 
                    div.classList.add('has-birthday');
                    const dot = document.createElement('div'); 
                    dot.className = 'dot'; 
                    div.appendChild(dot);
                }
                
                // AÃ±adir evento click para mostrar detalles
                div.addEventListener('click', () => { 
                    if (namesToday.length > 0) { 
                        const usersOnThisDay = filteredUsers.filter(u => u._day === d && u._month === month + 1);
                        const popup = document.createElement('div'); 
                        popup.className = 'birthday-popup'; 
                        popup.innerHTML = `
                            <div class="popup-h1">ðŸŽ‚ CumpleaÃ±os el ${d}/${month + 1} ðŸŽ‚</div>
                            <div class="popup-sub">${usersOnThisDay.map(u => `${u.nombre}<br><small>${u.carrera}</small>`).join('<br><br>')}</div>
                        `; 
                        document.body.appendChild(popup); 
                        
                        // Cerrar popup al hacer clic fuera de Ã©l
                        setTimeout(() => {
                            popup.addEventListener('click', () => popup.remove());
                        }, 100);
                        
                        // Cerrar automÃ¡ticamente despuÃ©s de 5 segundos
                        setTimeout(() => {
                            if (popup.parentNode) {
                                popup.remove();
                            }
                        }, 5000);
                    }
                });

                daysGrid.appendChild(div);
            }
        }

        // Filtrar usuarios segÃºn bÃºsqueda y filtros
        function filterUsers() {
            const searchTerm = searchInput.value.toLowerCase();
            const selectedMonth = monthFilter.value;
            
            filteredUsers = usuarios.filter(user => {
                // Filtrar por bÃºsqueda
                const matchesSearch = user.nombre.toLowerCase().includes(searchTerm) || 
                                     user.carrera.toLowerCase().includes(searchTerm);
                
                // Filtrar por mes
                const matchesMonth = selectedMonth === 'all' || 
                                    user._month === parseInt(selectedMonth) + 1;
                
                return matchesSearch && matchesMonth;
            });
            
            // Actualizar calendario
            renderCalendar(curDate);
            
            // Mostrar notificaciÃ³n si no hay resultados
            if (filteredUsers.length === 0 && (searchTerm || selectedMonth !== 'all')) {
                showNotification('No se encontraron resultados para tu bÃºsqueda');
            }
        }

        // ===== InicializaciÃ³n =====
        document.addEventListener('DOMContentLoaded', () => {
            // Mostrar cumpleaÃ±os de hoy
            showMainBirthday(cumpleHoy);
            
            // Actualizar estadÃ­sticas
            updateStats();
            
            // Renderizar calendario inicial
            renderCalendar(curDate);
            
            // Configurar eventos de bÃºsqueda y filtros
            searchInput.addEventListener('input', filterUsers);
            monthFilter.addEventListener('change', filterUsers);
            clearFilters.addEventListener('click', () => {
                searchInput.value = '';
                monthFilter.value = 'all';
                filterUsers();
                showNotification('Filtros limpiados');
            });
            
            // NavegaciÃ³n meses
            document.getElementById('prevMonth').addEventListener('click', () => { 
                curDate.setMonth(curDate.getMonth() - 1); 
                renderCalendar(curDate); 
                updateStats();
            });
            
            document.getElementById('nextMonth').addEventListener('click', () => { 
                curDate.setMonth(curDate.getMonth() + 1); 
                renderCalendar(curDate); 
                updateStats();
            });
            
            document.getElementById('goToToday').addEventListener('click', () => {
                curDate = new Date(hoy.getFullYear(), hoy.getMonth(), 1);
                renderCalendar(curDate);
                updateStats();
                showNotification('Volviendo al mes actual');
            });
            
            // Botones abrir calendario
            document.getElementById('openCalendar').addEventListener('click', () => {
                document.getElementById('calendarArea').scrollIntoView({ behavior: 'smooth' });
            });
            
            document.getElementById('openCalendarTop').addEventListener('click', () => {
                document.getElementById('calendarArea').scrollIntoView({ behavior: 'smooth' });
            });
            
            document.getElementById('goToTodayTop').addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>






